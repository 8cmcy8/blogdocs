<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.20" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.140" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><link rel="icon" type="image/jpg" href="https://vip4.yunpng.top/2025/03/19/67daaa8097d22.jpg"><title>MySQL | cmcy的文档</title><meta name="description" content="这是我的第一个 VuePress 站点"><link rel="preload" href="/blogdocs/assets/style-DwtvGK4_.css" as="style"><link rel="stylesheet" href="/blogdocs/assets/style-DwtvGK4_.css"><link rel="modulepreload" href="/blogdocs/assets/app-C8pYt98c.js"><link rel="modulepreload" href="/blogdocs/assets/index.html-TtU-n-QH.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-70a6325f><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-478bb030></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-478bb030> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-70a6325f data-v-2f879a0c><div class="vp-navbar" vp-navbar data-v-2f879a0c data-v-8c4e9080><div class="wrapper" data-v-8c4e9080><div class="container" data-v-8c4e9080><div class="title" data-v-8c4e9080><div class="vp-navbar-title has-sidebar" data-v-8c4e9080 data-v-53a81fff><a class="vp-link no-icon link title" href="/blogdocs/" data-v-53a81fff data-v-f26537bc><!--[--><!--[--><!--]--><!----><span data-v-53a81fff>cmcy的文档</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-8c4e9080><div class="content-body" data-v-8c4e9080><!--[--><!--]--><div class="vp-navbar-search search" data-v-8c4e9080><div class="search-wrapper" data-v-9e3f40e9><!----><div id="local-search" data-v-9e3f40e9><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-9e3f40e9><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-8c4e9080 data-v-aeb3df88><span id="main-nav-aria-label" class="visually-hidden" data-v-aeb3df88>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blogdocs/" tabindex="0" data-v-aeb3df88 data-v-4518d31c data-v-f26537bc><!--[--><!----><span data-v-4518d31c>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blogdocs/blog/archives/" tabindex="0" data-v-aeb3df88 data-v-4518d31c data-v-f26537bc><!--[--><!----><span data-v-4518d31c>归档</span><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-aeb3df88 data-v-ab114772><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ab114772><span class="text" data-v-ab114772><!----><!----><span data-v-ab114772>笔记</span><span class="vpi-chevron-down text-icon" data-v-ab114772></span></span></button><div class="menu" data-v-ab114772><div class="vp-menu" data-v-ab114772 data-v-d5638a06><div class="items" data-v-d5638a06><!--[--><!--[--><div class="vp-menu-link" data-v-d5638a06 data-v-48c023b7><a class="vp-link no-icon link" href="/blogdocs/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" data-v-48c023b7 data-v-f26537bc><!--[--><!----> 环境配置<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-d5638a06 data-v-48c023b7><a class="vp-link no-icon link" href="/blogdocs/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" data-v-48c023b7 data-v-f26537bc><!--[--><!----> 基础知识<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-8c4e9080 data-v-9cb0aa77><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-9cb0aa77 data-v-b75aea35 data-v-ac96578e><span class="check" data-v-ac96578e><span class="icon" data-v-ac96578e><!--[--><span class="vpi-sun sun" data-v-b75aea35></span><span class="vpi-moon moon" data-v-b75aea35></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-8c4e9080 data-v-f112aade data-v-121ac67d><!--[--><a class="vp-social-link no-icon" href="https://github.com/8cmcy8" aria-label="github" target="_blank" rel="noopener" data-v-121ac67d data-v-c04ca74a><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-8c4e9080 data-v-0a8edf29 data-v-ab114772><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ab114772><span class="vpi-more-horizontal icon" data-v-ab114772></span></button><div class="menu" data-v-ab114772><div class="vp-menu" data-v-ab114772 data-v-d5638a06><!----><!--[--><!--[--><!----><div class="group" data-v-0a8edf29><div class="item appearance" data-v-0a8edf29><p class="label" data-v-0a8edf29>外观</p><div class="appearance-action" data-v-0a8edf29><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-0a8edf29 data-v-b75aea35 data-v-ac96578e><span class="check" data-v-ac96578e><span class="icon" data-v-ac96578e><!--[--><span class="vpi-sun sun" data-v-b75aea35></span><span class="vpi-moon moon" data-v-b75aea35></span><!--]--></span></span></button></div></div></div><div class="group" data-v-0a8edf29><div class="item social-links" data-v-0a8edf29><div class="vp-social-links social-links-list" data-v-0a8edf29 data-v-121ac67d><!--[--><a class="vp-social-link no-icon" href="https://github.com/8cmcy8" aria-label="github" target="_blank" rel="noopener" data-v-121ac67d data-v-c04ca74a><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-8c4e9080 data-v-85127240><span class="container" data-v-85127240><span class="top" data-v-85127240></span><span class="middle" data-v-85127240></span><span class="bottom" data-v-85127240></span></span></button></div></div></div></div><div class="divider" data-v-8c4e9080><div class="divider-line" data-v-8c4e9080></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-70a6325f data-v-a2a90013><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-a2a90013><span class="vpi-align-left menu-icon" data-v-a2a90013></span><span class="menu-text" data-v-a2a90013>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-a2a90013 data-v-e5eb4f44><button data-v-e5eb4f44>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-70a6325f data-v-785abf2a><div class="curtain" data-v-785abf2a></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-785abf2a><span id="sidebar-aria-label" class="visually-hidden" data-v-785abf2a> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-b189e4d9><section class="vp-sidebar-item sidebar-item level-0 has-active" data-v-b189e4d9 data-v-239e29d5><!----><div data-v-239e29d5 data-v-239e29d5><div class="items" data-v-239e29d5><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-239e29d5 data-v-239e29d5><div class="item" data-v-239e29d5><div class="indicator" data-v-239e29d5></div><!----><a class="vp-link no-icon link link" href="/blogdocs/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/3e4uv7tu/" data-v-239e29d5 data-v-f26537bc><!--[--><p class="text" data-v-239e29d5>Linux基础总集篇</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-239e29d5 data-v-239e29d5><div class="item" data-v-239e29d5><div class="indicator" data-v-239e29d5></div><!----><a class="vp-link no-icon link link" href="/blogdocs/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2xl02wdb/" data-v-239e29d5 data-v-f26537bc><!--[--><p class="text" data-v-239e29d5>Linux网络基础总集篇</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-239e29d5 data-v-239e29d5><div class="item" data-v-239e29d5><div class="indicator" data-v-239e29d5></div><!----><a class="vp-link no-icon link link" href="/blogdocs/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/u9xtq3rk/" data-v-239e29d5 data-v-f26537bc><!--[--><p class="text" data-v-239e29d5>MySQL</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-239e29d5 data-v-239e29d5><div class="item" data-v-239e29d5><div class="indicator" data-v-239e29d5></div><!----><a class="vp-link no-icon link link" href="/blogdocs/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/kgk3xsrx/" data-v-239e29d5 data-v-f26537bc><!--[--><p class="text" data-v-239e29d5>操作系统</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-239e29d5 data-v-239e29d5><div class="item" data-v-239e29d5><div class="indicator" data-v-239e29d5></div><!----><a class="vp-link no-icon link link" href="/blogdocs/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/sc2300p7/" data-v-239e29d5 data-v-f26537bc><!--[--><p class="text" data-v-239e29d5>计算机组成原理</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-70a6325f data-v-b225763c><div class="vp-doc-container has-sidebar has-aside" data-v-b225763c data-v-f83ce33a><!--[--><!--]--><div class="container" data-v-f83ce33a><div class="aside" vp-outline data-v-f83ce33a><div class="aside-curtain" data-v-f83ce33a></div><div class="aside-container" data-v-f83ce33a><div class="aside-content" data-v-f83ce33a><div class="vp-doc-aside" data-v-f83ce33a data-v-65d2daf9><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-65d2daf9 data-v-0dbc33be><div class="content" data-v-0dbc33be><div class="outline-marker" data-v-0dbc33be></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-0dbc33be><span data-v-0dbc33be>此页内容</span><span class="vpi-print icon" data-v-0dbc33be></span></div><ul class="root" data-v-0dbc33be data-v-d20308d7><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-65d2daf9></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-f83ce33a><div class="content-container" data-v-f83ce33a><!--[--><!--]--><main class="main" data-v-f83ce33a><nav class="vp-breadcrumb" data-v-f83ce33a data-v-20a072e6><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-20a072e6><!--[--><li property="itemListElement" typeof="ListItem" data-v-20a072e6><a class="vp-link no-icon link breadcrumb" href="/blogdocs/" property="item" typeof="WebPage" data-v-20a072e6 data-v-f26537bc><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-20a072e6></span><meta property="name" content="首页" data-v-20a072e6><meta property="position" content="1" data-v-20a072e6></li><li property="itemListElement" typeof="ListItem" data-v-20a072e6><a class="vp-link no-icon link breadcrumb current" href="/blogdocs/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/u9xtq3rk/" property="item" typeof="WebPage" data-v-20a072e6 data-v-f26537bc><!--[-->MySQL<!--]--><!----></a><!----><meta property="name" content="MySQL" data-v-20a072e6><meta property="position" content="2" data-v-20a072e6></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-7874cce3>MySQL <!----></h1><div class="vp-doc-meta" data-v-7874cce3><p class="reading-time" data-v-7874cce3><span class="vpi-books icon" data-v-7874cce3></span><span data-v-7874cce3>约 8402 字</span><span data-v-7874cce3>大约 28 分钟</span></p><!----><p class="create-time" data-v-7874cce3><span class="vpi-clock icon" data-v-7874cce3></span><span data-v-7874cce3>2025-04-08</span></p></div><!--]--><div class="_%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86_u9xtq3rk_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-f83ce33a><div data-v-f83ce33a><h2 id="基础篇" tabindex="-1"><a class="header-anchor" href="#基础篇"><span>基础篇</span></a></h2><h3 id="mysql概述" tabindex="-1"><a class="header-anchor" href="#mysql概述"><span>MySQL概述</span></a></h3><hr><h4 id="_1-数据库相关概念" tabindex="-1"><a class="header-anchor" href="#_1-数据库相关概念"><span>1. 数据库相关概念</span></a></h4><table><thead><tr><th style="text-align:center;">名称</th><th style="text-align:center;">全称</th><th style="text-align:center;">简称</th></tr></thead><tbody><tr><td style="text-align:center;">数据库</td><td style="text-align:center;">存储数据的仓库，数据是有组织的进行存储</td><td style="text-align:center;">Data Base (DB)</td></tr><tr><td style="text-align:center;">数据库管理系统</td><td style="text-align:center;">操纵和管理数据库的大型软件</td><td style="text-align:center;">Data Base Management System (DBMS)</td></tr><tr><td style="text-align:center;">SQL</td><td style="text-align:center;">操作关系型数据库的编程语言，定义了一套操作关系型数据库统一标准</td><td style="text-align:center;">Structured Query Language (SQL)</td></tr></tbody></table><ul><li>主流的关系型数据库管理系统 <ul><li>Oracle</li><li>MySQL</li><li>Microsoft SQL Server</li><li>PostgreSQL</li><li>IBM Db2</li><li>Microsoft Access</li><li>SQLite</li><li>MariaDB</li><li>Microsoft Azure SQL Database</li><li>Hive</li></ul></li></ul><hr><h4 id="_2-mysql数据库准备" tabindex="-1"><a class="header-anchor" href="#_2-mysql数据库准备"><span>2. MySQL数据库准备</span></a></h4><ul><li><p>安装一路到底即可</p></li><li><p>启动与停止</p><ul><li><code>net start mysql80</code></li><li><code>net stop mysql80</code></li></ul></li><li><p>客户端连接</p><ul><li>MySQL提供的客户端命令行工具</li><li>系统自带的命令行工具执行指令 <code>mysql [-h 127.0.0.1] [-P 3306] -u root -p</code></li></ul></li></ul><hr><h4 id="_3-数据模型" tabindex="-1"><a class="header-anchor" href="#_3-数据模型"><span>3. 数据模型</span></a></h4><ul><li><p>关系型数据库(RDBMS)</p><p>概念：建立在关系模型基础上，由多张相互连接的二维表组成的数据库</p><table><thead><tr><th style="text-align:center;">id</th><th style="text-align:center;">name</th><th style="text-align:center;">job</th><th style="text-align:center;">dept_id</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:center;">金庸</td><td style="text-align:center;">总裁</td><td style="text-align:center;">2</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">张无忌</td><td style="text-align:center;">项目经理</td><td style="text-align:center;">1</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:center;">杨逍</td><td style="text-align:center;">开发</td><td style="text-align:center;">3</td></tr></tbody></table></li></ul><hr><h3 id="sql" tabindex="-1"><a class="header-anchor" href="#sql"><span>SQL</span></a></h3><hr><h4 id="_1-sql通用语法" tabindex="-1"><a class="header-anchor" href="#_1-sql通用语法"><span>1. SQL通用语法</span></a></h4><ul><li>SQL语句可以单行或多行书写，以分号结尾</li><li>SQL语句可以使用空格/缩进来增强语句的可读性</li><li>MySQL数据库的SQL语句不区分大小写，关键字建议使用大写</li><li>注释 <ul><li>单行注释：-- 注释内容 或 # 注释内容(MySQL独有)</li><li>多行注释：/* 注释内容 */</li></ul></li></ul><hr><h4 id="_2-sql分类" tabindex="-1"><a class="header-anchor" href="#_2-sql分类"><span>2. SQL分类</span></a></h4><table><thead><tr><th>分类</th><th style="text-align:center;">全称</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td>DDL</td><td style="text-align:center;">Data Definition Language</td><td style="text-align:center;">数据定义语句，用来定义数据库对象(数据库，表，字段)</td></tr><tr><td>DML</td><td style="text-align:center;">Data Manipulation Language</td><td style="text-align:center;">数据操作语言，用来对数据库表中的数据进行增删改</td></tr><tr><td>DQL</td><td style="text-align:center;">Data Query Language</td><td style="text-align:center;">数据查询语句，用来查询数据库中表的记录</td></tr><tr><td>DCL</td><td style="text-align:center;">Data Control Language</td><td style="text-align:center;">数据控制语言，用来创建数据库用户以及控制数据库的访问权限</td></tr></tbody></table><hr><h4 id="_3-ddl" tabindex="-1"><a class="header-anchor" href="#_3-ddl"><span>3. DDL</span></a></h4><ul><li><p>查询</p><ul><li><p>查询所有数据库</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">SHOW DATABASES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>查询当前数据库</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> DATABASE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li><li><p>创建</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> DATABASE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [IF NOT EXIST] 数据库名 [DEFAUL CHARSET 字符集] [COLLATE 排序规则];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>删除</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DROP</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> DATABASE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [IF EXISTS] 数据库名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>使用</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">USE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 数据库名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h4 id="_4-ddl-表操作-创建-查询" tabindex="-1"><a class="header-anchor" href="#_4-ddl-表操作-创建-查询"><span>4. DDL-表操作-创建&amp;查询</span></a></h4><ul><li><p>查询当前数据库所有表<code>show tables;</code></p></li><li><p>查询表结构<code>desc 表名;</code></p></li><li><p>查询指定表的建表语句<code>show create table 表名;</code></p></li><li><p>DDL-表操作-创建</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> 表名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段1 字段1类型[comment 字段1注释],</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段2 字段2类型[comment 字段2注释],</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段3 字段3类型[comment 字段3注释],</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	...</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段n 字段n类型[comment 字段n注释],</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)[表注释];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="_5-ddl-数据类型及案例" tabindex="-1"><a class="header-anchor" href="#_5-ddl-数据类型及案例"><span>5. DDL-数据类型及案例</span></a></h4><table><thead><tr><th style="text-align:center;">分类</th><th style="text-align:center;">类型</th><th style="text-align:center;">大小</th><th style="text-align:center;">有符号范围</th><th style="text-align:center;">无符号范围</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">数值类型</td><td style="text-align:center;">tinyint</td><td style="text-align:center;">1 byte</td><td style="text-align:center;">(-128,127)</td><td style="text-align:center;">...</td><td style="text-align:center;">小整数值</td></tr><tr><td style="text-align:center;">数值类型</td><td style="text-align:center;">smallint</td><td style="text-align:center;">2 bytes</td><td style="text-align:center;">(-32768,32767)</td><td style="text-align:center;">...</td><td style="text-align:center;">大整数值</td></tr><tr><td style="text-align:center;">数值类型</td><td style="text-align:center;">mediumint</td><td style="text-align:center;">3 bytes</td><td style="text-align:center;">(-8388608,8388607)</td><td style="text-align:center;">...</td><td style="text-align:center;">大整数值</td></tr><tr><td style="text-align:center;">数值类型</td><td style="text-align:center;">int 或者 integer</td><td style="text-align:center;">4 bytes</td><td style="text-align:center;">...</td><td style="text-align:center;">...</td><td style="text-align:center;">大整数值</td></tr><tr><td style="text-align:center;">数值类型</td><td style="text-align:center;">bigint</td><td style="text-align:center;">8 bytes</td><td style="text-align:center;">(-2<sup>63,2</sup>63-1)</td><td style="text-align:center;">...</td><td style="text-align:center;">极大整数值</td></tr><tr><td style="text-align:center;">数值类型</td><td style="text-align:center;">float</td><td style="text-align:center;">4 bytes</td><td style="text-align:center;">...</td><td style="text-align:center;">...</td><td style="text-align:center;">单精度浮点数值</td></tr><tr><td style="text-align:center;">数值类型</td><td style="text-align:center;">double</td><td style="text-align:center;">8 bytes</td><td style="text-align:center;">...</td><td style="text-align:center;">...</td><td style="text-align:center;">双精度浮点数值</td></tr><tr><td style="text-align:center;">数值类型</td><td style="text-align:center;">decimal</td><td style="text-align:center;"></td><td style="text-align:center;">依赖m(精度)和d(标度)</td><td style="text-align:center;">同左</td><td style="text-align:center;">小数值(精确定点数)</td></tr></tbody></table><ul><li><p><code>age tinyint unsigned</code></p></li><li><p><code>score double(4,1)</code></p></li></ul><table><thead><tr><th style="text-align:center;">分类</th><th style="text-align:center;">类型</th><th style="text-align:center;">大小</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">char</td><td style="text-align:center;">0-255 bytes</td><td style="text-align:center;">定长字符串</td></tr><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">varchar</td><td style="text-align:center;">0-65535 bytes</td><td style="text-align:center;">变长字符串</td></tr><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">tinyblob</td><td style="text-align:center;">0-255 bytes</td><td style="text-align:center;">不超过255个字符的二进制数据</td></tr><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">tinytext</td><td style="text-align:center;">0-255 bytes</td><td style="text-align:center;">短文本字符串</td></tr><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">blob</td><td style="text-align:center;">0-65 535 bytes</td><td style="text-align:center;">二进制形式的长文本数据</td></tr><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">text</td><td style="text-align:center;">0-65 535 bytes</td><td style="text-align:center;">长文本数据</td></tr><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">mediumblob</td><td style="text-align:center;">0-16 777 215 bytes</td><td style="text-align:center;">二进制形式的中等长度文本数据</td></tr><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">mediumtext</td><td style="text-align:center;">0-16 777 215 bytes</td><td style="text-align:center;">中等长度文本数据</td></tr><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">longblob</td><td style="text-align:center;">0-4 294 967 295 bytes</td><td style="text-align:center;">二进制形式的极大文本数据</td></tr><tr><td style="text-align:center;">字符串类型</td><td style="text-align:center;">longtext</td><td style="text-align:center;">0-4 294 967 295 bytes</td><td style="text-align:center;">极大文本数据</td></tr></tbody></table><ul><li><code>char(10)</code>性能好</li><li><code>varchar(10)</code>性能差</li></ul><table><thead><tr><th style="text-align:center;">分类</th><th style="text-align:center;">类型</th><th style="text-align:center;">大小</th><th style="text-align:center;">范围</th><th style="text-align:center;">格式</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">日期类型</td><td style="text-align:center;">date</td><td style="text-align:center;">3</td><td style="text-align:center;">1000-01-01, 9999-12-31</td><td style="text-align:center;">YYYY-MM-DD</td><td style="text-align:center;">日期值</td></tr><tr><td style="text-align:center;">日期类型</td><td style="text-align:center;">time</td><td style="text-align:center;">3</td><td style="text-align:center;">-838:59:59, 838:59:59</td><td style="text-align:center;">HH:MM:SS</td><td style="text-align:center;">时间值或持续时间</td></tr><tr><td style="text-align:center;">日期类型</td><td style="text-align:center;">year</td><td style="text-align:center;">1</td><td style="text-align:center;">1901, 2155</td><td style="text-align:center;">YYYY</td><td style="text-align:center;">年份值</td></tr><tr><td style="text-align:center;">日期类型</td><td style="text-align:center;">datetime</td><td style="text-align:center;">8</td><td style="text-align:center;">复合</td><td style="text-align:center;">YYYY-MM-DD HH:MM:SS</td><td style="text-align:center;">混合日期和时间值</td></tr><tr><td style="text-align:center;">日期类型</td><td style="text-align:center;">timestamp</td><td style="text-align:center;">4</td><td style="text-align:center;">1970-01-01 00:00:01 ,2038-01-19 03:14:07</td><td style="text-align:center;">YYYY-MM-DD HH:MM:SS</td><td style="text-align:center;">混合日期和时间值，时间戳</td></tr></tbody></table><hr><h4 id="_6-ddl-表操作-修改-删除" tabindex="-1"><a class="header-anchor" href="#_6-ddl-表操作-修改-删除"><span>6. DDL-表操作-修改&amp;删除</span></a></h4><ul><li><p>DDL-表操作-修改</p><ul><li><p>添加字段</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">add</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段名 类型(长度) [comment 注释] [约束];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p>​ 案例:</p><p>​ 为emp表增加一个新的字段“昵称”为nickname</p><ul><li><p>修改数据类型</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">modify</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段名 新数据类型(长度);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>修改字段名和和字段类型</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 change 旧字段名 新字段名 类型(长度) [comment注释] [约束];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>案例:</p><p>将emp表的nickname字段修改为username,类型为varchar(30)</p></li><li><p>修改表名</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 rename </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">to</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 新表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li><li><p>DDL-表操作-删除</p><ul><li><p>删除字段</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">drop</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>案例:</p><p>将emp表的字段username删除</p></li><li><p>删除表</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">drop</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [if exist] 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>删除指定表，并重新创建该表</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">truncate</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><hr><h4 id="_7-ddl小结" tabindex="-1"><a class="header-anchor" href="#_7-ddl小结"><span>7. DDL小结</span></a></h4><ul><li><p>数据库操作</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">show databases;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> datebase 数据库名;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">use</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 数据库名;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> database</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;#查看当前数据库</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">drop</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> database</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 数据库名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>DDL-表操作</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">show tables;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> 表名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(字段 字段类型，字段 字段类型);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">desc</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名;#查看表的信息</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">show </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名;#查看表的详细信息</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">add</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">modify</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">change</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">drop</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">rename </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">to</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">...;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">drop</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="_8-图形化界面工具datagrip" tabindex="-1"><a class="header-anchor" href="#_8-图形化界面工具datagrip"><span>8. 图形化界面工具DataGrip</span></a></h4><ul><li><p>mysql图形化界面</p><ul><li>sqlyog</li><li>Navicat</li><li>DataGrip</li></ul></li><li><p>安装工具在黑马程序员的资料里面就有DataGrip</p><p>操作也是简简单单学了一下下还是蛮好用的</p></li></ul><hr><h4 id="_9-dml-插入" tabindex="-1"><a class="header-anchor" href="#_9-dml-插入"><span>9. DML-插入</span></a></h4><ul><li><p>DML介绍</p><p>DML英文全称是Data Manipulation Language(数据操作语言),用来对数据库中表的数据记录进行增删改操作</p><ul><li>添加数据(insert)</li><li>修改数据(update)</li><li>删除数据(delete)</li></ul></li><li><p>DML-添加数据</p><ul><li><p>给指定字段添加数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">insert into</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名(字段名1,字段名2,...) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">values</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(值1,值2,...);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>给全部字段添加数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">insert into</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">values</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(值1,值2,...);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>批量添加数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">insert into</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名(字段1名,字段2名,...) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">values</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(值1,值2,...),(值1,值2,...),(值1,值2,...);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">insert into</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">values</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(值1,值2,...),(值1,值2,...),(值1,值2,...);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>注意</p><ul><li>插入数据时，指定的字段顺序需要与值的顺序是一一对应的。</li><li>字符串和日期型数据应该包含在引号中。</li><li>插入的数据大小，应该在字段的规定范围内。</li></ul></li></ul><hr><h4 id="_10-dml-更新和删除" tabindex="-1"><a class="header-anchor" href="#_10-dml-更新和删除"><span>10. DML-更新和删除</span></a></h4><ul><li><p>DML-修改数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">update</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">值1,字段名2</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">值2,...[where 条件];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>注意 <ul><li>修改语句的条件可以有，也可以没有，如果没有条件，则会修改整张表的所有数据</li></ul></li></ul></li><li><p>DML-删除数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">delete</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 [where 条件]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>注意 <ul><li>delete语句的条件可以有，也可以没有，如果没有条件，则会删除整张表的所有数据</li><li>delete语句不能删除某一个字段的值(可以使用update)</li></ul></li></ul></li></ul><hr><h4 id="_11-dml小结" tabindex="-1"><a class="header-anchor" href="#_11-dml小结"><span>11. DML小结</span></a></h4><ul><li><p>添加数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">insert into</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名(字段1,字段2,...) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">values</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(值1,值2,...)[,(值1,值2,...)...];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>修改数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">update</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">值1,字段2</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">值2 [where 条件];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>删除数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">delete</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名[where 条件];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h4 id="_12-dql-基础查询" tabindex="-1"><a class="header-anchor" href="#_12-dql-基础查询"><span>12. DQL-基础查询</span></a></h4><ul><li><p>DQL-介绍</p><p>DQL英文全称Data Query Language(数据查询语言)，数据查询语言，用来查询数据库中的表记录</p><p>查询关键字:select</p></li><li><p>DQL-语法</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段列表#基本查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	表名列表#基本查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	条件列表#条件查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">group by</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分组字段列表#分组查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">having</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分组后条件列表#分组查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">order by</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	排序字段列表#排序查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">limit</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分页参数#分页查询</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>基本查询</li><li>条件查询(where)</li><li>聚合函数(count,max,min,avg,sum)</li><li>分组查询(group by)</li><li>排序查询(order by)</li><li>分页查询(limit)</li></ul></li><li><p>DQL-基本查询</p><ul><li><p>查询多个字段</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段1,字段2,字段3,.. </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>设置别名</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段1 [as 别名1],字段2 [as 别名2] ... </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>去除重复记录</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select distinct</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><hr><h4 id="_13-dql-条件查询" tabindex="-1"><a class="header-anchor" href="#_13-dql-条件查询"><span>13. DQL-条件查询</span></a></h4><ul><li><p>DQL-条件查询</p><ul><li><p>语法</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 条件列表</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>条件</p><table><thead><tr><th style="text-align:center;">比较运算符</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">&gt;</td><td style="text-align:center;">大于</td></tr><tr><td style="text-align:center;">&gt;=</td><td style="text-align:center;">大于等于</td></tr><tr><td style="text-align:center;">&lt;</td><td style="text-align:center;">小于</td></tr><tr><td style="text-align:center;">&lt;=</td><td style="text-align:center;">小于等于</td></tr><tr><td style="text-align:center;">=</td><td style="text-align:center;">等于</td></tr><tr><td style="text-align:center;">&lt;&gt; 或 !=</td><td style="text-align:center;">不等于</td></tr><tr><td style="text-align:center;">between...and...</td><td style="text-align:center;">在某个范围之内(含最小,最大值)</td></tr><tr><td style="text-align:center;">in(...)</td><td style="text-align:center;">在in之后的列表中的值,多选一</td></tr><tr><td style="text-align:center;">like 占位符</td><td style="text-align:center;">模糊匹配(_匹配单个字符,%匹配任意字符)</td></tr><tr><td style="text-align:center;">is NULL</td><td style="text-align:center;">是NULL</td></tr></tbody></table><table><thead><tr><th style="text-align:center;">逻辑运算符</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">and 或 &amp;&amp;</td><td style="text-align:center;">并且(多个条件同时成立)</td></tr><tr><td style="text-align:center;">or 或 ||</td><td style="text-align:center;">或者(多个条件任意一个成立)</td></tr><tr><td style="text-align:center;">not 或 !</td><td style="text-align:center;">非,不是</td></tr></tbody></table></li></ul></li></ul><hr><h4 id="_14-dql-聚合函数" tabindex="-1"><a class="header-anchor" href="#_14-dql-聚合函数"><span>14. DQL-聚合函数</span></a></h4><ul><li><p>DQL-聚合函数</p><ul><li><p>介绍</p><p>将一列数据作为一个整体,进行纵向计算</p></li><li><p>常见聚合函数</p><table><thead><tr><th style="text-align:center;">函数</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">count</td><td style="text-align:center;">统计数量(行数)</td></tr><tr><td style="text-align:center;">max</td><td style="text-align:center;">最大值</td></tr><tr><td style="text-align:center;">min</td><td style="text-align:center;">最小值</td></tr><tr><td style="text-align:center;">avg</td><td style="text-align:center;">平均值</td></tr><tr><td style="text-align:center;">sum</td><td style="text-align:center;">求和(求每一行加起来的值)</td></tr></tbody></table></li><li><p>语法</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 聚合函数(字段列表) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名;#聚合函数不包含null值</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><hr><h4 id="_15-dql-分组查询" tabindex="-1"><a class="header-anchor" href="#_15-dql-分组查询"><span>15. DQL-分组查询</span></a></h4><ul><li><p>DQL-分组查询</p><ul><li><p>语法</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 [where 条件] </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">group by</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 分组字段名 [having 分组后过滤条件];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>where 和 having 区别</p><ul><li>执行时机不同：where是分组之前进行过滤，不满足where条件，不参与分组；而having是分组之后对结果进行过滤。</li><li>判断条件不同：where不能对聚合函数进行判断，而having可以。</li></ul></li><li><p>注意</p><ul><li>执行顺序：where &gt; 聚合函数 &gt; having</li><li>分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义</li></ul></li></ul></li></ul><hr><h4 id="_16-dql-排序查询" tabindex="-1"><a class="header-anchor" href="#_16-dql-排序查询"><span>16. DQL-排序查询</span></a></h4><ul><li><p>DQL-排序查询</p><ul><li><p>语法</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">order by</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段1 排序方式1,字段2 排序方式2;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>排序方式</p><ul><li>ASC：升序 (默认值)</li><li>DESC：降序</li></ul></li><li><p>注意</p><p>如果是多字段排序，当地一个字段值相同时，才会根据第二个字段进行排序。</p></li></ul></li></ul><hr><h4 id="_17-dql-分页查询" tabindex="-1"><a class="header-anchor" href="#_17-dql-分页查询"><span>17. DQL-分页查询</span></a></h4><ul><li><p>DQL-分页查询</p><ul><li><p>语法</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">limit</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 起始索引,查询记录数;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>注意</p><ul><li>起始索引从0开始，起始索引=(查询页码-1)*每页显示记录数。</li><li>分页查询是数据库的方言，不同的数据库有不同的实现，MySQL中是limit。</li><li>如果查询的是第一页数据，起始索引可以省略，直接简写为limit 10.</li></ul></li></ul></li></ul><hr><h4 id="_18-dql-执行顺序" tabindex="-1"><a class="header-anchor" href="#_18-dql-执行顺序"><span>18. DQL-执行顺序</span></a></h4><ul><li><p>DQL-执行顺序</p><ul><li><p>编写顺序</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段列表#基本查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	表名列表#基本查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	条件列表#条件查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">group by</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分组字段列表#分组查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">having</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分组后条件列表#分组查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">order by</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	排序字段列表#排序查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">limit</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分页参数#分页查询</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>执行顺序</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	表名列表#基本查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	条件列表#条件查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">group by</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分组字段列表#分组查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">having</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分组后条件列表#分组查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段列表#基本查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">having</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分组后条件列表#分组查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">order by</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	排序字段列表#排序查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">limit</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分页参数#分页查询</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><hr><h4 id="_19-dql小结" tabindex="-1"><a class="header-anchor" href="#_19-dql小结"><span>19. DQL小结</span></a></h4><ul><li><p>DQL语句</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段列表#</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">---------------&gt;字段名[AS]别名</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	表名</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	条件列表#条件查询 分组之前过滤</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">group by</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分组字段列表#分组查询</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">having</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分组后条件列表#分组查询 分组之后过滤</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">order by</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	排序字段列表#排序查询 升序ASC 降序DESC</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">limit</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	分页参数#分页查询</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-----&gt;起始索引(从0开始)，每页展示记录数</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="_20-dcl-用户管理" tabindex="-1"><a class="header-anchor" href="#_20-dcl-用户管理"><span>20. DCL-用户管理</span></a></h4><ul><li><p>DCL-介绍</p><p>DCL全程是Data Control Language(数据控制语言)，用来管理数据库用户，控制数据库的访问权限</p></li><li><p>DCL-管理用户</p><ul><li><p>查询用户</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">use</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> mysql;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> user;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>创建用户</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> user</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> &#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">用户名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&#39;@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> identified </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">by</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">密码</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>修改用户密码</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> user</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> identified </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">with</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> musql_native_password </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">by</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">新密码</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>删除用户</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">drop</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> user</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><hr><h4 id="_21-dcl-权限控制" tabindex="-1"><a class="header-anchor" href="#_21-dcl-权限控制"><span>21. DCL-权限控制</span></a></h4><ul><li><p>DCL-权限控制</p><p>MySQL中定义了很多种权限，但是常用的就以下几种：</p><table><thead><tr><th style="text-align:center;">权限</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">all,all privileges</td><td style="text-align:center;">所有权限</td></tr><tr><td style="text-align:center;">select</td><td style="text-align:center;">查询权限</td></tr><tr><td style="text-align:center;">insert</td><td style="text-align:center;">插入数据</td></tr><tr><td style="text-align:center;">update</td><td style="text-align:center;">修改数据</td></tr><tr><td style="text-align:center;">delete</td><td style="text-align:center;">删除数据</td></tr><tr><td style="text-align:center;">alter</td><td style="text-align:center;">修改表</td></tr><tr><td style="text-align:center;">drop</td><td style="text-align:center;">删除数据库/表/视图</td></tr><tr><td style="text-align:center;">create</td><td style="text-align:center;">创建数据库/表</td></tr></tbody></table><ul><li><p>查询权限</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">show grants </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>授予权限</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">grant</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 权限列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> 数据库名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">表名</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> to</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>撤销权限</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">revoke</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 权限列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> 数据库名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">表名</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>注意</p><ul><li>多个权限之间，使用,分隔</li><li>授权时，数据库名和表名可以使用*进行通配，代表所有</li></ul></li></ul></li></ul><hr><h4 id="_22-dcl-小结" tabindex="-1"><a class="header-anchor" href="#_22-dcl-小结"><span>22. DCL-小结</span></a></h4><ul><li><p>用户管理</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> user</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> &#39;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">用户名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&#39;@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> identified </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">by</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">密码</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> user</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> identified </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">with</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> musql_native_password </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">by</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">新密码</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">drop</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> user</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>权限控制</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">grant</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 权限列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> 数据库名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">表名</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> to</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">revoke</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 权限列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> 数据库名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">表名</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">用户名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">@</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">主机名</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="函数" tabindex="-1"><a class="header-anchor" href="#函数"><span>函数</span></a></h3><hr><h4 id="_1-函数-字符串函数" tabindex="-1"><a class="header-anchor" href="#_1-函数-字符串函数"><span>1. 函数-字符串函数</span></a></h4><ul><li><p>函数是指可以直接被另一段程序调用的程序或代码</p></li><li><p>字符串函数</p><p>MySQL中内置了很多字符串函数，常用的几个如下：</p><table><thead><tr><th style="text-align:center;">函数</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">concat(s1,s2,...,sn)</td><td style="text-align:center;">字符串拼接，将s1,s2,...,sn拼接成一个字符串</td></tr><tr><td style="text-align:center;">lower(str)</td><td style="text-align:center;">将字符串str全部转为小写</td></tr><tr><td style="text-align:center;">upper(str)</td><td style="text-align:center;">将字符串str全部转为大写</td></tr><tr><td style="text-align:center;">lpad(str,n,pad)</td><td style="text-align:center;">左填充，用字符串pad对str的左边进行填充，达到n个字符串长度</td></tr><tr><td style="text-align:center;">rpad(str,n,pad)</td><td style="text-align:center;">右填充，用字符串pad对str的右边进行填充，达到n个字符串长度</td></tr><tr><td style="text-align:center;">trim(str)</td><td style="text-align:center;">去掉字符串头部和尾部的空格</td></tr><tr><td style="text-align:center;">substring(str,start,len)</td><td style="text-align:center;">返回从字符串str从start位置起的len个长度的字符串</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 函数(参数)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h4 id="_2-函数-数值函数" tabindex="-1"><a class="header-anchor" href="#_2-函数-数值函数"><span>2. 函数-数值函数</span></a></h4><ul><li><p>数值函数</p><p>常见的数值函数如下</p><table><thead><tr><th style="text-align:center;">函数</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">ceil(x)</td><td style="text-align:center;">向上取整</td></tr><tr><td style="text-align:center;">floor(x)</td><td style="text-align:center;">向下取整</td></tr><tr><td style="text-align:center;">mod(x,y)</td><td style="text-align:center;">返回x/y的模</td></tr><tr><td style="text-align:center;">rand()</td><td style="text-align:center;">返回0~1内的随机数</td></tr><tr><td style="text-align:center;">round(x,y)</td><td style="text-align:center;">求参数x的四舍五入的值，保留y位小数</td></tr></tbody></table></li></ul><hr><h4 id="_3-函数-日期函数" tabindex="-1"><a class="header-anchor" href="#_3-函数-日期函数"><span>3. 函数-日期函数</span></a></h4><ul><li><p>日期函数</p><p>常见的日期函数如下：</p><table><thead><tr><th style="text-align:center;">函数</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">curdate()</td><td style="text-align:center;">返回当前日期</td></tr><tr><td style="text-align:center;">curtime()</td><td style="text-align:center;">返回当前时间</td></tr><tr><td style="text-align:center;">now()</td><td style="text-align:center;">返回当前日期和时间</td></tr><tr><td style="text-align:center;">year(date)</td><td style="text-align:center;">获取指定的date的年份</td></tr><tr><td style="text-align:center;">month(date)</td><td style="text-align:center;">获取指定的date的月份</td></tr><tr><td style="text-align:center;">day(date)</td><td style="text-align:center;">获取指定的date的日期</td></tr><tr><td style="text-align:center;">date_add(date, interval expr type)</td><td style="text-align:center;">返回一个日期/时间值加上一个时间间隔expr后的时间值</td></tr><tr><td style="text-align:center;">datediff(date1,date2)</td><td style="text-align:center;">返回起始时间date1和结束时date2之间的天数</td></tr></tbody></table></li></ul><hr><h4 id="_4-函数-流程函数" tabindex="-1"><a class="header-anchor" href="#_4-函数-流程函数"><span>4. 函数-流程函数</span></a></h4><ul><li><p>流程函数也是很常用的一类函数，可以SQLl语句中实现条件筛选，从而提高语句效率</p><table><thead><tr><th style="text-align:center;">函数</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">if(value,t,f)</td><td style="text-align:center;">如果value为true，则返回t，否则返回f</td></tr><tr><td style="text-align:center;">ifnull(value1,value2)</td><td style="text-align:center;">如value不为空，返回value1，否则返回value2</td></tr><tr><td style="text-align:center;">case when [val1] then [res1] ... else [default] end</td><td style="text-align:center;">如果val1为true，返回res1， ...否则返回default默认值</td></tr><tr><td style="text-align:center;">case [expr] when [val1] then [res1] ... else [default] end</td><td style="text-align:center;">如果expr的值等于val1，返回res1， ...否则返回default默认值</td></tr></tbody></table></li></ul><hr><h4 id="_5-函数-小结" tabindex="-1"><a class="header-anchor" href="#_5-函数-小结"><span>5. 函数-小结</span></a></h4><ul><li><p>字符串函数</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">concat,lower,upper,lpad,rpad,trim,substring</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>数值函数</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">ceil,floor,mod,rand,round</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>日期函数</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">curdate,curtime,</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">now</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">year</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">month</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">day</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,date_add,datediff</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>流程函数</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,finull,</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">case</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> when</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> then</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> end</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h3 id="约束" tabindex="-1"><a class="header-anchor" href="#约束"><span>约束</span></a></h3><hr><h4 id="_1-约束-概述" tabindex="-1"><a class="header-anchor" href="#_1-约束-概述"><span>1. 约束-概述</span></a></h4><ul><li><p>概念</p><p>约束是作用于表中字段上的规则，用于限制存储在表中的数据。</p></li><li><p>目的</p><p>保证数据库中的数据的正确、有效性和完整性。</p></li><li><p>分类</p><table><thead><tr><th style="text-align:center;">约束</th><th style="text-align:center;">描述</th><th style="text-align:center;">关键字</th></tr></thead><tbody><tr><td style="text-align:center;">非空约束</td><td style="text-align:center;">限制该字段的数据不能为null</td><td style="text-align:center;">not null</td></tr><tr><td style="text-align:center;">唯一约束</td><td style="text-align:center;">保证该字段的所有数据都是唯一、不重复的</td><td style="text-align:center;">unique</td></tr><tr><td style="text-align:center;">主键约束</td><td style="text-align:center;">主键是一行数据的唯一标识，要求非空且唯一</td><td style="text-align:center;">primary key</td></tr><tr><td style="text-align:center;">默认约束</td><td style="text-align:center;">保存数据时，如果未指定该字段的值，则采用默认值</td><td style="text-align:center;">default</td></tr><tr><td style="text-align:center;">检查约束(8.0.16版本之后)</td><td style="text-align:center;">保证字段值满足某一个条件</td><td style="text-align:center;">check</td></tr><tr><td style="text-align:center;">外键约束</td><td style="text-align:center;">用来让两张表的数据之间建立连接，保证数据的一致性和完整性</td><td style="text-align:center;">foreign key</td></tr></tbody></table></li></ul><hr><h4 id="_2-约束-演示" tabindex="-1"><a class="header-anchor" href="#_2-约束-演示"><span>2. 约束-演示</span></a></h4><ul><li><p>根据需求，完成表结构的创建</p><table><thead><tr><th style="text-align:center;">字段名</th><th style="text-align:center;">字段含义</th><th style="text-align:center;">字段类型</th><th style="text-align:center;">约束条件</th><th style="text-align:center;">约束关键字</th></tr></thead><tbody><tr><td style="text-align:center;">id</td><td style="text-align:center;">ID唯一标识</td><td style="text-align:center;">int</td><td style="text-align:center;">主键，并且自动增长</td><td style="text-align:center;">primary key, auto_increment</td></tr><tr><td style="text-align:center;">name</td><td style="text-align:center;">姓名</td><td style="text-align:center;">varchar(10)</td><td style="text-align:center;">不为空，并且唯一</td><td style="text-align:center;">not null, unique</td></tr><tr><td style="text-align:center;">age</td><td style="text-align:center;">年龄</td><td style="text-align:center;">int</td><td style="text-align:center;">大于0，并且小于等于120</td><td style="text-align:center;">check</td></tr><tr><td style="text-align:center;">status</td><td style="text-align:center;">状态</td><td style="text-align:center;">char(1)</td><td style="text-align:center;">如果没有指定该值，默认为1</td><td style="text-align:center;">default</td></tr><tr><td style="text-align:center;">gender</td><td style="text-align:center;">性别</td><td style="text-align:center;">char(1)</td><td style="text-align:center;">无</td><td style="text-align:center;"></td></tr></tbody></table></li></ul><hr><h4 id="_3-约束-外键约束" tabindex="-1"><a class="header-anchor" href="#_3-约束-外键约束"><span>3. 约束-外键约束</span></a></h4><ul><li><p>概念</p><p>外键用来让两张表的数据之间建立连接，从而保证数据的一致性和完整性。</p><p>主-----------副 父------------子</p></li><li><p>语法</p><ul><li><p>添加外键</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> 表名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段名 数据类型</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    ...</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    [constraint] [外键名称] </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">foreign key</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(外键字段名) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">references</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 主表(主表列名)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)：</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">add</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> constraint</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 外键名称 </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">foreign key</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(外键字段名) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">references</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 主表(主表列名);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>删除外键</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">drop</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> foreign key</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 外键名称;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><hr><h4 id="_4-约束-外键删除更新行为" tabindex="-1"><a class="header-anchor" href="#_4-约束-外键删除更新行为"><span>4. 约束-外键删除更新行为</span></a></h4><ul><li><p>删除/更新行为</p><table><thead><tr><th style="text-align:center;">行为</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">no action</td><td style="text-align:center;">当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新。(与restrict一致)</td></tr><tr><td style="text-align:center;">restrict</td><td style="text-align:center;">当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新。(与no action一致)</td></tr><tr><td style="text-align:center;">cascade</td><td style="text-align:center;">当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有，则也删除/更新外键在子表中的记录。</td></tr><tr><td style="text-align:center;">set null</td><td style="text-align:center;">当在父表中删除对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为null。(这就要求该外键允许取null)</td></tr><tr><td style="text-align:center;">set default</td><td style="text-align:center;">父表有变更时，子表将外键列设置成一个默认的值(lnnodb不支持)</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">alter</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表名 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">add</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> constraint</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 外键名称 </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">foreign key</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(外键字段名) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">references</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 主表(主表列名) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> update</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> cascate </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">on delete cascade</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h4 id="_5-约束-小结" tabindex="-1"><a class="header-anchor" href="#_5-约束-小结"><span>5. 约束-小结</span></a></h4><ul><li>约束种类 <ul><li>非空约束：not null</li><li>唯一约束：unique</li><li>主键约束：primary key (自增：auto_increment)</li><li>默认约束：default</li><li>检查约束：check</li><li>外键约束：foreign key</li></ul></li></ul><hr><h3 id="多表查询" tabindex="-1"><a class="header-anchor" href="#多表查询"><span>多表查询</span></a></h3><hr><h4 id="_1-多表查询-多表关系介绍" tabindex="-1"><a class="header-anchor" href="#_1-多表查询-多表关系介绍"><span>1. 多表查询-多表关系介绍</span></a></h4><p>项目开发中，在进行数据库表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，所以各个表结构之间也存在着各种联系，基本上分为三种：</p><ul><li>一对多(多对一) <ul><li>案例：部门与员工的关系</li><li>关系：一个部门对应多个员工，一个员工对应一个部门</li><li>实现：在多的一方建立外键，指向一的一方</li></ul></li><li>多对多 <ul><li>案例：学生与课程的关系</li><li>关系：一个学生可以选修多门课程，一门课程也可以供多个学生选择</li><li>实现：建立第三张中间表，中间表至少包含两个外键，分别关联两方主键</li></ul></li><li>一对一 <ul><li>案例：用户与用户详情的关系</li><li>关系：一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提高操作效率</li><li>实现：在任意一方加入外键，关联另外一方的主键，并且设置外键为唯一的(unique)</li></ul></li></ul><hr><h4 id="_2-多表查询-多表查询概述" tabindex="-1"><a class="header-anchor" href="#_2-多表查询-多表查询概述"><span>2. 多表查询-多表查询概述</span></a></h4><ul><li><p>概述：指从多张表中查询数据</p></li><li><p>笛卡尔积：笛卡尔乘积是指在数学中，两个集合a集合和b集合的所有组合情况。（在多表查询时，需要消除无效的笛卡尔积）</p></li><li><p>多表查询分类</p><ul><li><p>连接查询</p><ul><li><p>内连接：相当于查询a、b交集部分数据</p></li><li><p>外连接：</p><p>左外连接：查询左表所有数据，以及两张表交集部分数据</p><p>右外连接：查询右表所有数据，以及两张表交集部分数据</p></li><li><p>自连接：当前表与自身的连接查询，自连接必须使用表别名</p></li></ul></li><li><p>子查询</p></li></ul></li></ul><hr><h4 id="_3-多表查询-内连接" tabindex="-1"><a class="header-anchor" href="#_3-多表查询-内连接"><span>3. 多表查询-内连接</span></a></h4><ul><li><p>内连接查询语法：</p><ul><li><p>隐式内连接</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表1,表2 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 条件...;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>显式内连接</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表1 [inner] jion 表2 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 连接条件...;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p>内连接查询的是两张表交集部分</p></li></ul><hr><h4 id="_4-多表查询-外连接" tabindex="-1"><a class="header-anchor" href="#_4-多表查询-外连接"><span>4. 多表查询-外连接</span></a></h4><ul><li><p>外连接查询语法</p><ul><li><p>左外连接</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表1 left [outer] </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">join</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表2 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 条件...;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>右外连接</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表1 right [outer] </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">join</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表2 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 条件...;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><hr><h4 id="_5-多表查询-自连接" tabindex="-1"><a class="header-anchor" href="#_5-多表查询-自连接"><span>5. 多表查询-自连接</span></a></h4><ul><li><p>自连接查询语法</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表a 别名a </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">join</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表a 别名b </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 条件 ...;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>自连接查询，可以是内连接查询，也可以是外连接查询。</p></li></ul><hr><h4 id="_6-多表查询-联合查询union-union-all" tabindex="-1"><a class="header-anchor" href="#_6-多表查询-联合查询union-union-all"><span>6. 多表查询-联合查询union，union all</span></a></h4><ul><li><p>对于union查询，就是把多次查询的结果合并起来，幸好曾一个新的查询结果集</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表a ...</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">union</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [all]</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 字段列表 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 表b ...;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致。</p><p>union all 会将全部的数据直接合并在一起，union会对合并之后的数据去重</p></li></ul><hr><h4 id="_7-多表查询-子查询介绍" tabindex="-1"><a class="header-anchor" href="#_7-多表查询-子查询介绍"><span>7. 多表查询-子查询介绍</span></a></h4><ul><li><p>概念：SQL语句中嵌套select语句，称为嵌套查询，又称子查询.</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> t1 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> column1 </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> column </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> t2);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>子查询外部的语句可以是insert/update/delete/select的任何一个</p></li><li><p>根据子查询结果不同，分为：</p><ul><li>标量子查询（子查询结果为单个值）</li><li>列子查询（子查询结果为一列）</li><li>行子查询（子查询结果为一行）</li><li>表子查询（子查询结果为多行多列）</li></ul></li></ul><hr><h4 id="_8-多表查询-标量子查询" tabindex="-1"><a class="header-anchor" href="#_8-多表查询-标量子查询"><span>8. 多表查询-标量子查询</span></a></h4><ul><li><p>标量子查询</p><p>子查询返回的结果是个值（数字、字符串、日期等），最简单的形式，这种子查询称为标量子查询。</p><p>常用的操作符：= &lt;&gt; &gt; &gt;= &lt; &gt;=</p></li></ul><hr><h4 id="_9-多表查询-列子查询" tabindex="-1"><a class="header-anchor" href="#_9-多表查询-列子查询"><span>9. 多表查询-列子查询</span></a></h4><ul><li><p>列子查询</p><p>子查询返回的结果是一列（可以是多行），这种子查询称为列子查询。</p><p>常用的操作符：in、not in、any、some、all</p><table><thead><tr><th style="text-align:center;">操作符</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">in</td><td style="text-align:center;">在指定的集合范围之内，多选一</td></tr><tr><td style="text-align:center;">not in</td><td style="text-align:center;">不在指定的集合范围之内</td></tr><tr><td style="text-align:center;">any</td><td style="text-align:center;">子查询返回列表中，有任意一个满足即可</td></tr><tr><td style="text-align:center;">some</td><td style="text-align:center;">与any等同，使用some的地方都可以使用any</td></tr><tr><td style="text-align:center;">all</td><td style="text-align:center;">子查询返回列表的所有条件都必须满足</td></tr></tbody></table></li></ul><hr><h4 id="_10-多表查询-行子查询" tabindex="-1"><a class="header-anchor" href="#_10-多表查询-行子查询"><span>10. 多表查询-行子查询</span></a></h4><ul><li><p>行子查询</p><p>子查询返回的结果是一行（可以是多列），这种子查询称为行子查询</p><p>常用操作符：= &lt;&gt; in not all</p></li><li><p>示例</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (salary,managerid)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> salary,managerid </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">张无忌</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h4 id="_11-多表查询-表子查询" tabindex="-1"><a class="header-anchor" href="#_11-多表查询-表子查询"><span>11. 多表查询-表子查询</span></a></h4><ul><li><p>表子查询</p><p>子查询返回的结果是多行多列，这种子查询称为表表查询</p><p>常用的操作符：in</p></li><li><p>示例</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> job,salary </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">鹿杖客</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> or</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">宋远桥</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (job,salary) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">in</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ( </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> job,salary </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">鹿杖客</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> or</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">宋远桥</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> );</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> entrydate </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">2006-01-01</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,d.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> entrydate </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">2006-01-01</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) e </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">left join</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dept d </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h4 id="_12-多表查询-多表查询案例" tabindex="-1"><a class="header-anchor" href="#_12-多表查询-多表查询案例"><span>12. 多表查询-多表查询案例</span></a></h4><ul><li>根据需求，完成SQL语句的编写 <ul><li><p>查询员工的姓名、年龄、职位、部门信息</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">age</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">job</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     dept d</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#隐式内连接</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询年龄小于30岁的员工姓名、年龄、职位、部门信息</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">age</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">job</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">         inner join</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dept d </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">age</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#显示内连接</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询拥有员工的部门id、部门名称</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select distinct</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     dept d</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#隐式内连接去重</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询所有年龄大于40岁的员工，及其归属的部门名称；如果员工没有分配部门，也需要展示出来</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">         left join</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dept d </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">age</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 40</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#左外连接</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询所有员工的工资等级</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">s</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">grade</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     salgrade s</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">salary</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> s</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">losal</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  and</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">salary</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> s</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">hisal</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#隐式内连接</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询“研发部”所有员工的信息及工资等级</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> e.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">s</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">grade</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     dept d,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     salgrade s</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  and</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">salary</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> s</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">losal</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> and</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">salary</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> s</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">hisal</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  and</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">研发部</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#隐式内连接</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询“研发部”员工的平均工资</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> avg</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">salary</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     dept d</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  and</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">研发部</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#隐式内连接</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询工资比“灭绝”高的员工信息</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> salary </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> salary </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">灭绝</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#表子查询</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询比平均薪资高的员工信息</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> salary </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> avg</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(salary) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#表子查询</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询低于本部门平均工资的员工信息</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e2</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">salary</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> avg</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">e1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">salary</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e1 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#表子查询</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询所有的部门信息，并统计部门的员工人数</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, (</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> count</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> emp e </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">where</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> e</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">dept_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> d</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dept d;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">#表子查询</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询所有学生的选课情况，展示出学生名称、学号、课程名称</p></li></ul></li></ul><hr><h4 id="_13-多表查询-小结" tabindex="-1"><a class="header-anchor" href="#_13-多表查询-小结"><span>13. 多表查询-小结</span></a></h4><ul><li>多表关系 <ul><li>一对多：在多的一方设置外键，关联一的一方的主键</li><li>多对多：建立中间表，中间表包含两个外键，关联两张表的主键</li><li>一对一：用于表结构拆分，在其中任何一方设置外键（unique），关联另一方的主键</li></ul></li><li>多表查询 <ul><li>内连接 <ul><li>隐式</li><li>显式</li></ul></li><li>外连接 <ul><li>左外</li><li>右外</li></ul></li><li>自连接</li><li>子查询</li></ul></li></ul><hr><h3 id="事务" tabindex="-1"><a class="header-anchor" href="#事务"><span>事务</span></a></h3><hr><h4 id="_1-事务-简介" tabindex="-1"><a class="header-anchor" href="#_1-事务-简介"><span>1. 事务-简介</span></a></h4><ul><li><p>事务：是一组操作的集合，它是一个不可分割的工作单位，事务会把所有的操作作为一个整体一起向系统提交或撤销操作请求，即这些操作要么同时成功，要么同时失败</p><p>默认MySQL的事务是自动提交的，也就是说，当执行一条DML语句，MySQL会立即隐式的提交事务</p></li></ul><hr><h4 id="_2-事务-操作演示" tabindex="-1"><a class="header-anchor" href="#_2-事务-操作演示"><span>2. 事务-操作演示</span></a></h4><ul><li><p>事务操作</p><ul><li><p>开启事务</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">start transaction</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">; #或者 </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">begin</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>查看/设置事务提交方式</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> @@autocommit;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> @@autocommit</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>提交事务</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">commit</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>回滚事务</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">rollback</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ul><hr><h4 id="_3-事务-事务的四大特性" tabindex="-1"><a class="header-anchor" href="#_3-事务-事务的四大特性"><span>3. 事务-事务的四大特性</span></a></h4><ul><li>事务四大特性（ACID） <ul><li>原子性（atomicity）：事务是不可分割的最小操作单元，要么全部成功，要么全部失败。</li><li>一致性（consistency）：事务完成时，必须使所有的数据都保持一致状态。</li><li>隔离性（lsolation）：数据库系统提供的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行。</li><li>持久性（durability）：事务一旦提交或回滚，他对数据库中的数据的改变就是永久的。</li></ul></li></ul><hr><h4 id="_4-事务-并发事务问题" tabindex="-1"><a class="header-anchor" href="#_4-事务-并发事务问题"><span>4. 事务-并发事务问题</span></a></h4><ul><li><p>并发事务问题</p><table><thead><tr><th>问题</th><th>描述</th></tr></thead><tbody><tr><td>脏读</td><td>一个事务读到另一个事务还没有提交的数据。</td></tr><tr><td>不可重复读</td><td>一个事务先后读取同一条记录，但两次读取的数据不同，称之为不可重复读。</td></tr><tr><td>幻读</td><td>一个事务按照条件查询数据时，没有对应的数据行，但是在插入数据时，又发现这行数据已经存在，好像出现了”幻影“。</td></tr></tbody></table></li></ul><hr><h4 id="_5-事务-事务隔离级别" tabindex="-1"><a class="header-anchor" href="#_5-事务-事务隔离级别"><span>5. 事务-事务隔离级别</span></a></h4><ul><li><p>事务隔离级别</p><table><thead><tr><th style="text-align:center;">隔离级别</th><th style="text-align:center;">脏读</th><th style="text-align:center;">不可重复读</th><th style="text-align:center;">幻读</th></tr></thead><tbody><tr><td style="text-align:center;">read uncommitted</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr><tr><td style="text-align:center;">read committed</td><td style="text-align:center;">×</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr><tr><td style="text-align:center;">repeatable read</td><td style="text-align:center;">×</td><td style="text-align:center;">×</td><td style="text-align:center;">√</td></tr><tr><td style="text-align:center;">serializable</td><td style="text-align:center;">×</td><td style="text-align:center;">×</td><td style="text-align:center;">×</td></tr></tbody></table></li><li><p>查看事务隔离级别</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> @@transaction_isolation;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>设置事务隔离级别</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [session | global] </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">transaction</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> isolation</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> level</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">read</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> uncommitted</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">read</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> committed</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">repeatable</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> read</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">serializable</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>注意</p><p>事务隔离级别越高，数据越安全，但是性能越低。</p></li></ul><hr><h4 id="_6-事务-小结" tabindex="-1"><a class="header-anchor" href="#_6-事务-小结"><span>6. 事务-小结</span></a></h4><ul><li><p>事务简介：事务时一组操作的集合，这组操作，要么全部执行成功，要么全部执行失败</p></li><li><p>事务操作</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">start transaction</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;#开启事务</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">commit</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> /</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> rollback</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;#提交</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">回滚事务</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>事务四大特性</p><ul><li>原子性</li><li>一致性</li><li>隔离性</li><li>持久性</li></ul></li><li><p>并发事务问题</p><ul><li>脏读</li><li>不可重复读</li><li>幻读</li></ul></li><li><p>事务隔离级别</p><ul><li>read uncommitted</li><li>read committed</li><li>repeatable read</li><li>serializable</li></ul></li></ul><hr><h3 id="基础篇总结" tabindex="-1"><a class="header-anchor" href="#基础篇总结"><span>基础篇总结</span></a></h3><ul><li>MySQL概述</li><li>SQL</li><li>函数</li><li>约束</li><li>多表查询</li><li>事务</li></ul><h2 id="进阶篇" tabindex="-1"><a class="header-anchor" href="#进阶篇"><span>进阶篇</span></a></h2><h3 id="存储引擎" tabindex="-1"><a class="header-anchor" href="#存储引擎"><span>存储引擎</span></a></h3><hr><h4 id="_1-存储引擎-mysql体系结构" tabindex="-1"><a class="header-anchor" href="#_1-存储引擎-mysql体系结构"><span>1. 存储引擎-MySQL体系结构</span></a></h4><ul><li>连接层</li><li>服务层</li><li>引擎层</li><li>存储层</li></ul><hr><h4 id="_2-存储引擎-存储引擎简介" tabindex="-1"><a class="header-anchor" href="#_2-存储引擎-存储引擎简介"><span>2. 存储引擎-存储引擎简介</span></a></h4><ul><li><p>存储引擎简介</p><p>存储引擎就是存储数据、建立索引、更新/查询数据等技术的实现方式。存储引擎是基于表的，而不是基于库的，所以存储类型也可被称为表类型</p></li><li><p>查询建表语句(默认存储引擎innodb)</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">show </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> account;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>在创建表时，指定存储引擎</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> 表名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">	字段1 字段1类型 [comment 字段1注释],</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    ...</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    字段n 字段n类型 [comment 字段n注释],</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)engine</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">innodb [表注释];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>查询当前数据库支持的存储引擎</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">show engines;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h4 id="_3-存储引擎-存储引擎特点" tabindex="-1"><a class="header-anchor" href="#_3-存储引擎-存储引擎特点"><span>3. 存储引擎-存储引擎特点</span></a></h4><ul><li><p>InnoDB</p><ul><li><p>介绍</p><p>InnoDB是一种兼顾高可靠性和高性能的通用存储引擎，在MySQL5.5之后，InnoDB是默认的MySQL存储引擎。</p></li><li><p>特点</p><p>DML操作遵循ACID模型，支持<strong>事务</strong>；</p><p><strong>行级锁</strong>，提高并发访问性能；</p><p>支持<strong>外键FOREIGN KEY</strong>约束，保证数据的完整性和正确性；</p></li><li><p>文件</p><p>xxx.ibd: xxx代表的是表名，innodb引擎的每张表都会对应这样一个表空间文件，存储该表的表结构（frm、sdi）、数据和索引。</p><p>参数：innodb_file_per_table</p></li><li><p>逻辑存储结构</p><ul><li>tablespace: 表空间</li><li>segment: 段</li><li>extent: 区 1m 64page</li><li>page: 页 16k</li><li>row: 行</li></ul></li></ul></li></ul><hr><h4 id="_4-存储引擎-myisam和memory" tabindex="-1"><a class="header-anchor" href="#_4-存储引擎-myisam和memory"><span>4. 存储引擎- MyISAM和Memory</span></a></h4><ul><li><p>MyISAM</p><ul><li><p>介绍</p><p>MyISAM是MySQL早期的默认存储引擎</p></li><li><p>特点</p><p>不支持事务，不支持外键</p><p>支持表锁，不支持行锁</p><p>访问速度快</p></li><li><p>文件</p><p>xxx.sdi: 存储表结构信息 xxx.MYD: 存储数据</p><p>xxx.MYI: 存储索引</p></li></ul></li><li><p>Memory</p><ul><li><p>介绍</p><p>Memory引擎的表数据是存储在内存中的，由于受到硬件问题、或断电问题的影响，只能将这些表作为临时表或缓存使用。</p></li><li><p>特点</p><p>内存存放</p><p>hash索引（默认）</p></li><li><p>文件</p><p>xxx.sdi: 存储表结构信息</p></li></ul></li><li><p>存储引擎特点</p><table><thead><tr><th style="text-align:center;">特点</th><th style="text-align:center;">InnoDB</th><th style="text-align:center;">MyISAM</th><th style="text-align:center;">Memory</th></tr></thead><tbody><tr><td style="text-align:center;">存储限制</td><td style="text-align:center;">64TB</td><td style="text-align:center;">有</td><td style="text-align:center;">有</td></tr><tr><td style="text-align:center;">事务安全</td><td style="text-align:center;"><strong>支持</strong></td><td style="text-align:center;">-</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">锁机制</td><td style="text-align:center;"><strong>行锁</strong></td><td style="text-align:center;">表锁</td><td style="text-align:center;">表锁</td></tr><tr><td style="text-align:center;">B+tree索引</td><td style="text-align:center;">支持</td><td style="text-align:center;">支持</td><td style="text-align:center;">支持</td></tr><tr><td style="text-align:center;">Hash索引</td><td style="text-align:center;">-</td><td style="text-align:center;">-</td><td style="text-align:center;">支持</td></tr><tr><td style="text-align:center;">全文索引</td><td style="text-align:center;">支持(5.6版本之后)</td><td style="text-align:center;">支持</td><td style="text-align:center;">-</td></tr><tr><td style="text-align:center;">空间使用</td><td style="text-align:center;">高</td><td style="text-align:center;">低</td><td style="text-align:center;">N/A</td></tr><tr><td style="text-align:center;">内存使用</td><td style="text-align:center;">高</td><td style="text-align:center;">低</td><td style="text-align:center;">中等</td></tr><tr><td style="text-align:center;">批量插入速度</td><td style="text-align:center;">低</td><td style="text-align:center;">高</td><td style="text-align:center;">高</td></tr><tr><td style="text-align:center;">支持外键</td><td style="text-align:center;"><strong>支持</strong></td><td style="text-align:center;">-</td><td style="text-align:center;">-</td></tr></tbody></table></li></ul><hr><h4 id="_5-存储引擎-选择" tabindex="-1"><a class="header-anchor" href="#_5-存储引擎-选择"><span>5. 存储引擎-选择</span></a></h4><ul><li><p>存储引擎选择</p><p>在选择存储引擎时，应该根据应用系统的特点选择合适的存储引擎。对于复杂的应用系统，还可以根据实际情况选择多种存储引擎进行组合</p><ul><li><p>InnoDB：</p><p>是MySQL的默认存储引擎，支持事务、外键。如果应用对事物的完整性有比较高的要求，在并发条件下要求数据的一致性，数据操作除了插入和查询之外，还包含很多的更新、删除操作，那么InnoDB存储引擎是比较合适的选择。</p></li><li><p>MyISAM：</p><p>如果应用是以读操作和插入操作为主，只有很少的更新和删除操作，并且对事务的完整性、并发性要求不是很高，那么选择这个存储引擎是非常合适。</p></li><li><p>Memory：</p><p>将所有数据保存在内存中，访问速度快，通常用于临时表及缓存。Memory的缺陷就是对表的大小有限制，太大的表无法缓存在内存中，而且无法保障数据的安全性。</p></li></ul></li></ul><hr><h4 id="_6-存储引擎-小结" tabindex="-1"><a class="header-anchor" href="#_6-存储引擎-小结"><span>6. 存储引擎-小结</span></a></h4><ul><li><p>体系结构</p><ul><li>连接层</li><li>服务层</li><li>引擎层</li><li>存储层</li></ul></li><li><p>存储引擎简介</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">show engines;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">create</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> table</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> xxxx</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(....) engines</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">innodb;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>存储引擎特点</p><p>InnoDB与MyISAM：事务、外键、行级锁</p></li><li><p>存储引擎应用</p><p>InnoDB：存储业务系统中对于事务、数据完整性要求较高的核心数据。</p><p>MyISAM：存储业务系统的非核心事务。</p></li></ul><hr><h3 id="索引" tabindex="-1"><a class="header-anchor" href="#索引"><span>索引</span></a></h3><hr><h4 id="_1-索引-索引概述" tabindex="-1"><a class="header-anchor" href="#_1-索引-索引概述"><span>1. 索引-索引概述</span></a></h4><ul><li><p>介绍</p><p>索引（index）是帮助MySQL<strong>高效获取数据</strong>的<strong>数据结构（有序）</strong>。在数据之外，数据库系统还维护着满足特定查找算法的数据结构，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级查找算法，这种数据结构就是索引。</p></li></ul></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-f83ce33a data-v-d75f5d49><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-d75f5d49><span class="contributors-label" data-v-d75f5d49>贡献者: </span><span class="contributors-info" data-v-d75f5d49><!--[--><!--[--><span class="contributor" data-v-d75f5d49>cmcy</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-d75f5d49><div class="pager" data-v-d75f5d49><a class="vp-link no-icon link pager-link prev" href="/blogdocs/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2xl02wdb/" data-v-d75f5d49 data-v-f26537bc><!--[--><span class="desc" data-v-d75f5d49>上一页</span><span class="title" data-v-d75f5d49>Linux网络基础总集篇</span><!--]--><!----></a></div><div class="pager" data-v-d75f5d49><a class="vp-link no-icon link pager-link next" href="/blogdocs/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/kgk3xsrx/" data-v-d75f5d49 data-v-f26537bc><!--[--><span class="desc" data-v-d75f5d49>下一页</span><span class="title" data-v-d75f5d49>操作系统</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-70a6325f data-v-4fb803f2><span class="percent" data-allow-mismatch data-v-4fb803f2>0%</span><span class="show icon vpi-back-to-top" data-v-4fb803f2></span><svg aria-hidden="true" data-v-4fb803f2><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-4fb803f2></circle></svg></button><footer class="vp-footer has-sidebar" vp-footer data-v-70a6325f data-v-76b81a7d><!--[--><div class="container" data-v-76b81a7d><p class="message" data-v-76b81a7d>Power by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><p class="copyright" data-v-76b81a7d>nocopyright by cmcy</p></div><!--]--></footer><!--[--><!--]--><!--]--></div><div class="border top-right vp-bulletin preset"><button type="button" class="close"><span class="vpi-close"></span></button><!--[--><h2>公告板</h2><div class="container"><div class="content vp-doc"><p>持续建设中</p>
</div></div><!--]--></div><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/blogdocs/assets/app-C8pYt98c.js" defer></script></body></html>